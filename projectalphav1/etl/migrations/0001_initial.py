# Generated by Django 5.2.5 on 2025-11-08 05:57

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('core', '0045_add_default_none_to_property_type_assumptions'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ValuationETL',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('source', models.CharField(choices=[('internalInitialUW', 'Internal Initial UW Valuation'), ('internal', 'Internal Valuation'), ('broker', 'Broker Valuation'), ('desktop', 'Desktop Valuation'), ('BPOI', 'BPOI'), ('BPOE', 'BPOE'), ('seller', 'Seller Provided'), ('appraisal', 'Professional Appraisal')], help_text='Valuation source code aligned with core Valuation model choices.', max_length=20)),
                ('valuation_type', models.CharField(choices=[('bpo', 'Broker Price Opinion'), ('appraisal', 'Appraisal'), ('avm', 'Automated Valuation Model')], db_index=True, max_length=20)),
                ('bpo_type', models.CharField(blank=True, choices=[('interior', 'Interior Inspection'), ('exterior', 'Exterior Inspection'), ('drive_by', 'Drive By'), ('desktop', 'Desktop/Remote')], max_length=20)),
                ('property_address', models.CharField(db_index=True, max_length=255)),
                ('city', models.CharField(max_length=100)),
                ('state', models.CharField(max_length=2)),
                ('zip_code', models.CharField(db_index=True, max_length=10)),
                ('parcel_number', models.CharField(blank=True, db_index=True, max_length=100)),
                ('loan_number', models.CharField(blank=True, db_index=True, max_length=50)),
                ('deal_name', models.CharField(blank=True, max_length=100)),
                ('owner_name', models.CharField(blank=True, max_length=255)),
                ('inspection_date', models.DateField(db_index=True)),
                ('effective_date', models.DateField(blank=True, null=True)),
                ('report_date', models.DateField(blank=True, null=True)),
                ('occupancy_status', models.CharField(blank=True, choices=[('owner', 'Owner Occupied'), ('tenant', 'Tenant Occupied'), ('vacant', 'Vacant'), ('unknown', 'Unknown')], max_length=20)),
                ('property_appears_secure', models.BooleanField(default=True)),
                ('yearly_taxes', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('estimated_monthly_rent', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('estimated_monthly_rent_repaired', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('sold_in_last_12_months', models.BooleanField(default=False)),
                ('prior_sale_price', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('prior_sale_date', models.DateField(blank=True, null=True)),
                ('currently_listed', models.BooleanField(default=False)),
                ('listing_broker', models.CharField(blank=True, max_length=255)),
                ('listing_broker_contact', models.CharField(blank=True, max_length=100)),
                ('listing_agent_email', models.EmailField(blank=True, max_length=254)),
                ('listing_agent_firm', models.CharField(blank=True, max_length=255)),
                ('initial_list_price', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('initial_list_date', models.DateField(blank=True, null=True)),
                ('current_list_price', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('days_on_market', models.IntegerField(blank=True, null=True)),
                ('cumulative_days_on_market', models.IntegerField(blank=True, null=True)),
                ('listing_currently_pending', models.BooleanField(default=False)),
                ('pending_contract_date', models.DateField(blank=True, null=True)),
                ('living_area', models.IntegerField(blank=True, null=True)),
                ('total_rooms', models.IntegerField(blank=True, null=True)),
                ('bedrooms', models.IntegerField(blank=True, null=True)),
                ('bathrooms', models.DecimalField(blank=True, decimal_places=1, max_digits=3, null=True)),
                ('full_bathrooms', models.IntegerField(blank=True, null=True)),
                ('half_bathrooms', models.IntegerField(blank=True, null=True)),
                ('year_built', models.IntegerField(blank=True, null=True)),
                ('effective_age', models.IntegerField(blank=True, null=True)),
                ('foundation_type', models.CharField(blank=True, choices=[('basement', 'Basement'), ('full_basement', 'Full Basement'), ('partial_basement', 'Partial Basement'), ('crawl_space', 'Crawl Space'), ('slab', 'Slab'), ('pier_beam', 'Pier & Beam'), ('none', 'None'), ('n/a', 'N/A')], max_length=30)),
                ('basement_square_feet', models.IntegerField(blank=True, null=True)),
                ('basement_percent_finished', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('basement_rooms', models.IntegerField(blank=True, null=True)),
                ('lot_size_acres', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True)),
                ('lot_size_square_feet', models.IntegerField(blank=True, null=True)),
                ('property_type', models.CharField(blank=True, choices=[('sf_detached', 'Single Family Detached'), ('sf_attached', 'Single Family Attached'), ('condo', 'Condominium'), ('townhouse', 'Townhouse'), ('pud', 'PUD'), ('2_4_unit', '2-4 Unit Multi-Family'), ('5plus_unit', '5+ Unit Multi-Family'), ('mobile', 'Mobile/Manufactured'), ('land', 'Land/Vacant'), ('commercial', 'Commercial'), ('mixed_use', 'Mixed Use')], max_length=20)),
                ('style', models.CharField(blank=True, choices=[('single_story', 'Single Story / Ranch'), ('1_story', '1 Story'), ('1.5_story', '1.5 Story'), ('2_story', '2 Story'), ('2_story_conv', '2 Story Conventional'), ('3_story', '3+ Story'), ('split_level', 'Split Level'), ('split_foyer', 'Split Foyer'), ('bi_level', 'Bi-Level'), ('tri_level', 'Tri-Level'), ('colonial', 'Colonial'), ('contemporary', 'Contemporary'), ('cape_cod', 'Cape Cod'), ('bungalow', 'Bungalow'), ('victorian', 'Victorian'), ('tudor', 'Tudor'), ('mediterranean', 'Mediterranean'), ('other', 'Other')], max_length=20)),
                ('quality_rating', models.CharField(blank=True, max_length=5)),
                ('number_of_units', models.IntegerField(default=1)),
                ('condition', models.CharField(blank=True, choices=[('C1', 'C1 - Excellent'), ('C2', 'C2 - Very Good'), ('C3', 'C3 - Good'), ('C4', 'C4 - Average'), ('C5', 'C5 - Fair'), ('C6', 'C6 - Poor'), ('Q1', 'Q1 - Excellent'), ('Q2', 'Q2 - Very Good'), ('Q3', 'Q3 - Good'), ('Q4', 'Q4 - Average'), ('Q5', 'Q5 - Fair'), ('Q6', 'Q6 - Poor'), ('excellent', 'Excellent'), ('very_good', 'Very Good'), ('good', 'Good'), ('average', 'Average'), ('fair', 'Fair'), ('poor', 'Poor')], max_length=20)),
                ('has_pool', models.BooleanField(default=False)),
                ('has_spa', models.BooleanField(default=False)),
                ('pool_type', models.CharField(blank=True, max_length=50)),
                ('view', models.CharField(blank=True, choices=[('none', 'None/Typical'), ('residential', 'Residential'), ('residential_street', 'Residential Street'), ('water', 'Water'), ('waterfront', 'Waterfront'), ('lake', 'Lake'), ('ocean', 'Ocean'), ('mountain', 'Mountain'), ('city', 'City'), ('park', 'Park'), ('golf_course', 'Golf Course'), ('greenbelt', 'Greenbelt'), ('pastoral', 'Pastoral')], max_length=30)),
                ('has_porch', models.BooleanField(default=False)),
                ('has_patio', models.BooleanField(default=False)),
                ('has_deck', models.BooleanField(default=False)),
                ('patio_deck_description', models.CharField(blank=True, max_length=100)),
                ('has_fireplace', models.BooleanField(default=False)),
                ('number_of_fireplaces', models.IntegerField(blank=True, null=True)),
                ('has_fencing', models.BooleanField(default=False)),
                ('fencing_type', models.CharField(blank=True, max_length=50)),
                ('garage', models.CharField(blank=True, choices=[('none', 'None'), ('carport', 'Carport'), ('1_car', '1 Car'), ('1_attached', '1 Car Attached'), ('2_attached', '2 Car Attached'), ('3_attached', '3+ Car Attached'), ('1_detached', '1 Car Detached'), ('2_detached', '2 Car Detached'), ('3_detached', '3+ Car Detached'), ('1_builtin', '1 Car Built-in'), ('2_builtin', '2 Car Built-in')], max_length=20)),
                ('garage_spaces', models.IntegerField(blank=True, null=True)),
                ('parking_spaces', models.IntegerField(blank=True, null=True)),
                ('parking_type', models.CharField(blank=True, max_length=50)),
                ('cooling_type', models.CharField(blank=True, choices=[('central', 'Central AC'), ('wall', 'Wall Unit'), ('window', 'Window Units'), ('evaporative', 'Evaporative/Swamp Cooler'), ('heat_pump', 'Heat Pump'), ('none', 'None')], max_length=50)),
                ('heating_type', models.CharField(blank=True, choices=[('gas', 'Gas'), ('electric', 'Electric'), ('oil', 'Oil'), ('forced_air', 'Forced Air'), ('baseboard', 'Baseboard'), ('radiant', 'Radiant'), ('heat_pump', 'Heat Pump'), ('wood', 'Wood/Pellet'), ('none', 'None')], max_length=50)),
                ('water_type', models.CharField(blank=True, choices=[('public', 'Public'), ('well', 'Well'), ('shared_well', 'Shared Well'), ('cistern', 'Cistern')], max_length=20)),
                ('sewer_type', models.CharField(blank=True, choices=[('public', 'Public Sewer'), ('septic', 'Septic'), ('cesspool', 'Cesspool'), ('holding_tank', 'Holding Tank')], max_length=20)),
                ('other_features', models.TextField(blank=True)),
                ('hoa_fees_monthly', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('hoa_fees_annual', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('hoa_name', models.CharField(blank=True, max_length=255)),
                ('hoa_phone', models.CharField(blank=True, max_length=50)),
                ('subdivision', models.CharField(blank=True, max_length=255)),
                ('school_district', models.CharField(blank=True, max_length=255)),
                ('proximity_to_amenities', models.CharField(blank=True, max_length=50)),
                ('data_source', models.CharField(blank=True, max_length=50)),
                ('data_source_id', models.CharField(blank=True, max_length=50)),
                ('as_is_value', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('as_repaired_value', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('quick_sale_value', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('quick_sale_value_repaired', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('land_value', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('estimated_marketing_time', models.CharField(blank=True, choices=[('0-30', '0 to 30 Days'), ('30-60', '30 to 60 Days'), ('30-90', '30 to 90 Days'), ('60-90', '60 to 90 Days'), ('90-120', '90 to 120 Days'), ('90-180', '90 to 180 Days'), ('180-365', '180 to 365 Days'), ('365+', 'Over 365 Days')], max_length=20)),
                ('typical_marketing_time_days', models.IntegerField(blank=True, null=True)),
                ('recommended_sales_strategy', models.CharField(blank=True, choices=[('as_is', 'As-Is'), ('as_repaired', 'As-Repaired'), ('quick_sale', 'Quick Sale')], max_length=20)),
                ('recommended_list_price', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('recommended_list_price_repaired', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('appraisal_purpose', models.CharField(blank=True, choices=[('purchase', 'Purchase Transaction'), ('refinance', 'Refinance'), ('equity', 'Home Equity/Line of Credit'), ('other', 'Other')], max_length=20)),
                ('property_rights_appraised', models.CharField(blank=True, choices=[('fee_simple', 'Fee Simple'), ('leasehold', 'Leasehold'), ('leased_fee', 'Leased Fee')], max_length=20)),
                ('sales_comparison_approach', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('cost_approach', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('income_approach', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('financeable', models.CharField(blank=True, max_length=50)),
                ('location_type', models.CharField(blank=True, choices=[('urban', 'Urban'), ('suburban', 'Suburban'), ('rural', 'Rural')], max_length=20)),
                ('location_view', models.CharField(blank=True, choices=[('none', 'None/Typical'), ('residential', 'Residential'), ('residential_street', 'Residential Street'), ('water', 'Water'), ('waterfront', 'Waterfront'), ('lake', 'Lake'), ('ocean', 'Ocean'), ('mountain', 'Mountain'), ('city', 'City'), ('park', 'Park'), ('golf_course', 'Golf Course'), ('greenbelt', 'Greenbelt'), ('pastoral', 'Pastoral')], max_length=30)),
                ('market_trend', models.CharField(blank=True, choices=[('stable', 'Stable'), ('declining', 'Declining'), ('improving', 'Improving'), ('under_improvement', 'Under Improvement'), ('rapid_growth', 'Rapid Growth')], max_length=20)),
                ('neighborhood_trend', models.CharField(blank=True, choices=[('stable', 'Stable'), ('declining', 'Declining'), ('improving', 'Improving'), ('under_improvement', 'Under Improvement'), ('rapid_growth', 'Rapid Growth')], max_length=20)),
                ('economic_trend', models.CharField(blank=True, choices=[('stable', 'Stable'), ('declining', 'Declining'), ('improving', 'Improving'), ('under_improvement', 'Under Improvement'), ('rapid_growth', 'Rapid Growth')], max_length=20)),
                ('property_values_trend', models.CharField(blank=True, max_length=50)),
                ('subject_appeal_compared_to_avg', models.CharField(blank=True, choices=[('superior', 'Superior'), ('above_average', 'Above Average'), ('average', 'Average'), ('below_average', 'Below Average'), ('under_improvement', 'Under Improvement'), ('low', 'Low')], max_length=20)),
                ('subject_value_compared_to_avg', models.CharField(blank=True, choices=[('superior', 'Superior'), ('above_average', 'Above Average'), ('average', 'Average'), ('below_average', 'Below Average'), ('under_improvement', 'Under Improvement'), ('low', 'Low')], max_length=20)),
                ('housing_supply', models.CharField(blank=True, choices=[('shortage', 'Shortage/Under Supply'), ('balanced', 'Balanced/In Balance'), ('stable', 'Stable'), ('oversupply', 'Over Supply')], max_length=20)),
                ('crime_vandalism_risk', models.CharField(blank=True, choices=[('low', 'Low'), ('moderate', 'Moderate'), ('high', 'High')], max_length=20)),
                ('reo_driven_market', models.BooleanField(default=False)),
                ('num_reo_ss_listings', models.IntegerField(blank=True, null=True)),
                ('num_listings_in_area', models.IntegerField(blank=True, null=True)),
                ('num_boarded_properties', models.IntegerField(blank=True, null=True)),
                ('avg_neighborhood_age', models.IntegerField(blank=True, null=True)),
                ('neighborhood_pride_of_ownership', models.CharField(blank=True, choices=[('excellent', 'Excellent'), ('good', 'Good'), ('average', 'Average'), ('fair', 'Fair'), ('poor', 'Poor')], max_length=20)),
                ('predominant_ownership', models.CharField(blank=True, choices=[('homeowner', 'Homeowner'), ('owner_occupant', 'Owner Occupant'), ('investor', 'Investor'), ('rental', 'Rental')], max_length=20)),
                ('percentage_owner_occupancy', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('new_construction_in_area', models.BooleanField(default=False)),
                ('seasonal_market', models.BooleanField(default=False)),
                ('neighborhood_price_range_low', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('neighborhood_price_range_high', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('neighborhood_median_price', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('neighborhood_predominate_value', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('neighborhood_average_sales_price', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('most_likely_buyer_type', models.CharField(blank=True, max_length=100)),
                ('financing_issues', models.TextField(blank=True)),
                ('marketability_concerns', models.TextField(blank=True)),
                ('property_comments', models.TextField(blank=True)),
                ('neighborhood_comments', models.TextField(blank=True)),
                ('general_comments', models.TextField(blank=True)),
                ('estimated_repair_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('repairs_to_bring_to_market', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('deferred_maintenance_cost', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('general_repair_comments', models.TextField(blank=True)),
                ('agent_name', models.CharField(blank=True, max_length=255)),
                ('agent_license', models.CharField(blank=True, max_length=50)),
                ('agent_company', models.CharField(blank=True, max_length=255)),
                ('agent_email', models.EmailField(blank=True, max_length=254)),
                ('agent_phone', models.CharField(blank=True, max_length=50)),
                ('agent_tax_id', models.CharField(blank=True, max_length=50)),
                ('agent_signature', models.CharField(blank=True, max_length=255)),
                ('appraiser_name', models.CharField(blank=True, max_length=255)),
                ('appraiser_license', models.CharField(blank=True, max_length=50)),
                ('appraiser_company', models.CharField(blank=True, max_length=255)),
                ('appraiser_signature', models.CharField(blank=True, max_length=255)),
                ('reviewer_name', models.CharField(blank=True, max_length=255)),
                ('reviewer_license', models.CharField(blank=True, max_length=50)),
                ('partner_comments', models.TextField(blank=True)),
                ('vendor_comments', models.TextField(blank=True)),
                ('internal_notes', models.TextField(blank=True)),
                ('original_document', models.FileField(blank=True, null=True, upload_to='valuations/originals/%Y/%m/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('asset_hub', models.ForeignKey(help_text='Canonical hub join key for this valuation record.', on_delete=django.db.models.deletion.PROTECT, related_name='etl_valuations', to='core.assetidhub')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='valuations_created', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Valuation ETL',
                'verbose_name_plural': 'Valuation ETL Records',
                'db_table': 'etl_valuation',
                'ordering': ['-inspection_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='RepairItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('repair_type', models.CharField(choices=[('internal', 'Internal'), ('external', 'External'), ('systems', 'Systems')], max_length=10)),
                ('category', models.CharField(choices=[('paint_int', 'Paint (Interior)'), ('walls_ceiling', 'Walls/Ceiling'), ('flooring', 'Flooring/Carpet'), ('kitchen', 'Kitchen'), ('cabinets_countertops', 'Cabinets/Countertops'), ('bathrooms', 'Bathrooms'), ('plumbing', 'Plumbing'), ('electrical', 'Electrical'), ('hvac', 'Heating/Cooling/HVAC'), ('appliances', 'Appliances'), ('doors_trim_int', 'Doors/Trim (Interior)'), ('stairs', 'Stairs/Railings'), ('basement', 'Basement'), ('cleaning', 'Cleaning/Debris Removal'), ('other_internal', 'Other (Internal)'), ('roof', 'Roof'), ('siding', 'Siding'), ('trim', 'Trim/Soffit/Fascia'), ('structural', 'Structural'), ('windows', 'Windows'), ('doors_ext', 'Doors (Exterior)'), ('paint_ext', 'Paint (Exterior)'), ('power_wash', 'Power Wash'), ('foundation', 'Foundation'), ('garage', 'Garage'), ('driveway', 'Driveway'), ('walkway', 'Walkway/Sidewalk'), ('landscaping', 'Landscaping'), ('trees_removal', 'Tree Removal/Trimming'), ('fence', 'Fence/Gate'), ('deck_patio', 'Deck/Patio'), ('pool', 'Pool/Spa'), ('gutters', 'Gutters/Downspouts'), ('grading_drainage', 'Grading/Drainage'), ('other_external', 'Other (External)'), ('septic', 'Septic System'), ('well', 'Well'), ('other_systems', 'Other Systems')], max_length=30)),
                ('severity', models.CharField(blank=True, choices=[('cosmetic', 'Cosmetic'), ('minor', 'Minor'), ('moderate', 'Moderate'), ('major', 'Major'), ('critical', 'Critical/Safety')], max_length=20)),
                ('repair_number', models.IntegerField(blank=True, null=True)),
                ('description', models.TextField(blank=True)),
                ('estimated_cost', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('is_required', models.BooleanField(default=False)),
                ('priority', models.IntegerField(default=3, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('valuation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='repair_items', to='etl.valuationetl')),
            ],
            options={
                'db_table': 'etl_repair_item',
                'ordering': ['repair_type', 'repair_number', 'priority', 'category'],
            },
        ),
        migrations.CreateModel(
            name='ComparablesETL',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('comp_type', models.CharField(choices=[('sold', 'Closed Sale'), ('listing', 'Active Listing'), ('pending', 'Pending Sale'), ('expired', 'Expired Listing'), ('withdrawn', 'Withdrawn Listing')], db_index=True, max_length=20)),
                ('comp_number', models.IntegerField()),
                ('agent_comp_ranking', models.IntegerField(blank=True, choices=[(1, '1 - Best'), (2, '2'), (3, '3 - Worst')], null=True)),
                ('address', models.CharField(max_length=255)),
                ('city', models.CharField(max_length=100)),
                ('state', models.CharField(max_length=2)),
                ('zip_code', models.CharField(max_length=10)),
                ('proximity_miles', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('proximity_direction', models.CharField(blank=True, max_length=5)),
                ('proximity_to_subject', models.CharField(blank=True, max_length=50)),
                ('calculated_distance_miles', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('sale_price', models.DecimalField(decimal_places=2, max_digits=12)),
                ('sale_date', models.DateField(blank=True, null=True)),
                ('price_per_sqft', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('original_list_price', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('original_list_date', models.DateField(blank=True, null=True)),
                ('current_list_price', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('list_price_at_sale', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('active_days_on_market', models.IntegerField(blank=True, null=True)),
                ('total_days_on_market', models.IntegerField(blank=True, null=True)),
                ('days_on_market', models.IntegerField(blank=True, null=True)),
                ('cumulative_days_on_market', models.IntegerField(blank=True, null=True)),
                ('sales_type', models.CharField(blank=True, choices=[('retail', 'Retail'), ('arms_length', 'Arms Length / Fair Market'), ('fair_market', 'Fair Market'), ('reo', 'REO/Bank Owned'), ('short_sale', 'Short Sale'), ('foreclosure', 'Foreclosure'), ('estate_sale', 'Estate Sale'), ('relocation', 'Relocation'), ('non_arms_length', 'Non-Arms Length'), ('unknown', 'Unknown')], max_length=20)),
                ('seller_concessions', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('financing_type', models.CharField(blank=True, choices=[('cash', 'Cash'), ('conventional', 'Conventional'), ('fha', 'FHA'), ('va', 'VA'), ('usda', 'USDA'), ('seller_financing', 'Seller Financing'), ('other', 'Other'), ('unknown', 'Unknown')], max_length=20)),
                ('living_area', models.IntegerField()),
                ('total_rooms', models.IntegerField(blank=True, null=True)),
                ('bedrooms', models.IntegerField()),
                ('bathrooms', models.DecimalField(decimal_places=1, max_digits=3)),
                ('full_bathrooms', models.IntegerField(blank=True, null=True)),
                ('half_bathrooms', models.IntegerField(blank=True, null=True)),
                ('year_built', models.IntegerField()),
                ('effective_age', models.IntegerField(blank=True, null=True)),
                ('foundation_type', models.CharField(blank=True, choices=[('basement', 'Basement'), ('full_basement', 'Full Basement'), ('partial_basement', 'Partial Basement'), ('crawl_space', 'Crawl Space'), ('slab', 'Slab'), ('pier_beam', 'Pier & Beam'), ('none', 'None'), ('n/a', 'N/A')], max_length=30)),
                ('basement_square_feet', models.IntegerField(blank=True, null=True)),
                ('basement_percent_finished', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('basement_rooms', models.IntegerField(blank=True, null=True)),
                ('lot_size_acres', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True)),
                ('lot_size_square_feet', models.IntegerField(blank=True, null=True)),
                ('property_type', models.CharField(blank=True, max_length=20)),
                ('style', models.CharField(blank=True, max_length=20)),
                ('quality_rating', models.CharField(blank=True, max_length=5)),
                ('number_of_units', models.IntegerField(default=1)),
                ('condition', models.CharField(blank=True, max_length=20)),
                ('has_pool', models.BooleanField(default=False)),
                ('has_spa', models.BooleanField(default=False)),
                ('pool_type', models.CharField(blank=True, max_length=50)),
                ('view', models.CharField(blank=True, max_length=30)),
                ('has_porch', models.BooleanField(default=False)),
                ('has_patio', models.BooleanField(default=False)),
                ('has_deck', models.BooleanField(default=False)),
                ('has_fireplace', models.BooleanField(default=False)),
                ('number_of_fireplaces', models.IntegerField(blank=True, null=True)),
                ('has_fencing', models.BooleanField(default=False)),
                ('fencing_type', models.CharField(blank=True, max_length=50)),
                ('garage', models.CharField(blank=True, max_length=20)),
                ('garage_spaces', models.IntegerField(blank=True, null=True)),
                ('parking_spaces', models.IntegerField(blank=True, null=True)),
                ('parking_type', models.CharField(blank=True, max_length=50)),
                ('cooling_type', models.CharField(blank=True, max_length=50)),
                ('heating_type', models.CharField(blank=True, max_length=50)),
                ('water_type', models.CharField(blank=True, max_length=20)),
                ('sewer_type', models.CharField(blank=True, max_length=20)),
                ('other_features', models.TextField(blank=True)),
                ('hoa_fees_monthly', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('hoa_name', models.CharField(blank=True, max_length=255)),
                ('hoa_phone', models.CharField(blank=True, max_length=50)),
                ('subdivision', models.CharField(blank=True, max_length=255)),
                ('school_district', models.CharField(blank=True, max_length=255)),
                ('proximity_to_amenities', models.CharField(blank=True, max_length=50)),
                ('data_source', models.CharField(blank=True, max_length=50)),
                ('data_source_id', models.CharField(blank=True, max_length=50)),
                ('agent_adjustments', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_location', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_site_view', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_design_appeal', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_quality', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_age', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_condition', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_above_grade_rooms', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_gross_living_area', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_basement', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_functional_utility', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_heating_cooling', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_garage_carport', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_porch_patio_deck', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjustment_other', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('total_adjustments', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('adjusted_sale_price', models.DecimalField(blank=True, decimal_places=2, max_digits=12, null=True)),
                ('general_comments', models.TextField(blank=True)),
                ('adjustments_description', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('valuation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='comparables', to='etl.valuationetl')),
            ],
            options={
                'db_table': 'etl_comparable',
                'ordering': ['comp_type', 'comp_number'],
            },
        ),
        migrations.CreateModel(
            name='ValuationPhoto',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('photo_type', models.CharField(choices=[('front', 'Front View'), ('rear', 'Rear View'), ('left_side', 'Left Side View'), ('right_side', 'Right Side View'), ('street', 'Street Scene'), ('street_left', 'Street Left View'), ('street_right', 'Street Right View'), ('street_sign', 'Street Sign'), ('address_verification', 'Address Verification'), ('address_closeup', 'Address Closeup'), ('mailbox', 'Mailbox'), ('kitchen', 'Kitchen'), ('living_room', 'Living Room'), ('dining_room', 'Dining Room'), ('bedroom', 'Bedroom'), ('bathroom', 'Bathroom'), ('basement', 'Basement'), ('interior_other', 'Interior Other'), ('garage', 'Garage'), ('pool', 'Pool'), ('deck_patio', 'Deck/Patio'), ('landscaping', 'Landscaping'), ('damage', 'Damage'), ('repair_needed', 'Repair Needed'), ('comp_sale_1', 'Comparable Sale #1'), ('comp_sale_2', 'Comparable Sale #2'), ('comp_sale_3', 'Comparable Sale #3'), ('comp_sale_4', 'Comparable Sale #4'), ('comp_list_1', 'Comparable Listing #1'), ('comp_list_2', 'Comparable Listing #2'), ('comp_list_3', 'Comparable Listing #3'), ('map', 'Map/Location'), ('flood_map', 'Flood Map'), ('public_records', 'Public Records'), ('assessment', 'Assessment Record'), ('other', 'Other')], max_length=30)),
                ('image', models.ImageField(upload_to='valuation_photos/%Y/%m/%d/')),
                ('caption', models.CharField(blank=True, max_length=255)),
                ('taken_at', models.DateTimeField(blank=True, null=True)),
                ('display_order', models.IntegerField(default=0)),
                ('comparable', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='photos', to='etl.comparablesetl')),
                ('repair_item', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='photos', to='etl.repairitem')),
                ('valuation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='photos', to='etl.valuationetl')),
            ],
            options={
                'db_table': 'etl_valuation_photo',
                'ordering': ['photo_type', 'display_order'],
            },
        ),
        migrations.AddIndex(
            model_name='valuationetl',
            index=models.Index(fields=['valuation_type', 'inspection_date'], name='etl_valuati_valuati_2df74e_idx'),
        ),
        migrations.AddIndex(
            model_name='valuationetl',
            index=models.Index(fields=['property_address', 'city', 'state'], name='etl_valuati_propert_fa1550_idx'),
        ),
        migrations.AddIndex(
            model_name='valuationetl',
            index=models.Index(fields=['zip_code', 'inspection_date'], name='etl_valuati_zip_cod_ec5a1c_idx'),
        ),
        migrations.AddIndex(
            model_name='valuationetl',
            index=models.Index(fields=['loan_number'], name='etl_valuati_loan_nu_2ee4c4_idx'),
        ),
        migrations.AddIndex(
            model_name='valuationetl',
            index=models.Index(fields=['source'], name='etl_valuati_source_990d75_idx'),
        ),
        migrations.AddIndex(
            model_name='comparablesetl',
            index=models.Index(fields=['valuation', 'comp_type'], name='etl_compara_valuati_fccee4_idx'),
        ),
        migrations.AddIndex(
            model_name='comparablesetl',
            index=models.Index(fields=['sale_date'], name='etl_compara_sale_da_f720d1_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='comparablesetl',
            unique_together={('valuation', 'comp_type', 'comp_number')},
        ),
    ]
