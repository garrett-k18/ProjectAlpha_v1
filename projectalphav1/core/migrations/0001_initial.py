# Generated by Django 5.2.5 on 2026-01-30 19:55

import core.models.attachments
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AssetIdHub',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('sellertape_id', models.CharField(blank=True, db_index=True, max_length=64, null=True)),
                ('servicer_id', models.CharField(blank=True, db_index=True, help_text='External servicer ID for cross-referencing servicer loan data', max_length=64, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
            ],
            options={
                'verbose_name': 'Asset ID Hub',
                'verbose_name_plural': 'Asset ID Hub',
                'db_table': 'core_assetidhub',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BrokerMSAAssignment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('priority', models.IntegerField(default=1, help_text='Assignment priority (1 = primary, 2 = backup, etc.)')),
                ('is_active', models.BooleanField(default=True, help_text='Whether this assignment is currently active')),
                ('notes', models.TextField(blank=True, help_text='Additional notes about this broker-MSA assignment', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Broker MSA Assignment',
                'verbose_name_plural': 'Broker MSA Assignments',
                'db_table': 'broker_msa_assignments',
                'ordering': ['msa', 'priority', 'broker'],
            },
        ),
        migrations.CreateModel(
            name='CalendarEvent',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(blank=True, db_index=True, default='', help_text='Event title/description (optional - events tagged by category)', max_length=255)),
                ('date', models.DateField(db_index=True, help_text='Event date')),
                ('time', models.CharField(default='All Day', help_text="Event time (e.g., '9:00 AM - 10:00 AM' or 'All Day')", max_length=50)),
                ('description', models.TextField(blank=True, default='', help_text='Additional event details')),
                ('task_type', models.CharField(choices=[('follow_up', 'Follow-up'), ('nod_noi', 'NOD/NOI'), ('fc_counsel', 'FC Counsel'), ('escrow', 'Escrow'), ('reo', 'REO'), ('document_review', 'Document Review'), ('contact_borrower', 'Contact Borrower'), ('legal', 'Legal'), ('inspection', 'Inspection'), ('other', 'Other')], db_index=True, default='follow_up', help_text='Type of task', max_length=50)),
                ('priority', models.CharField(blank=True, choices=[('urgent', 'Urgent'), ('routine', 'Routine'), ('low', 'Low')], default='routine', help_text='Priority level for tasks', max_length=20, null=True)),
                ('is_reminder', models.BooleanField(default=False, help_text='Is this a reminder/alert?')),
                ('completed', models.BooleanField(default=False, help_text='Has the task/event been completed?')),
                ('is_public', models.BooleanField(default=False, help_text='Visible to all users when true; otherwise private to creator')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Calendar Event',
                'verbose_name_plural': 'Calendar Events',
                'ordering': ['date', 'time'],
            },
        ),
        migrations.CreateModel(
            name='ChartOfAccounts',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('account_number', models.CharField(db_index=True, help_text='Chart of accounts number for this account', max_length=50, unique=True)),
                ('account_name', models.CharField(help_text='Name of the account from the chart of accounts', max_length=255)),
                ('account_type', models.CharField(help_text='Type of account (e.g., Asset, Liability, Equity, Revenue, Expense)', max_length=50)),
                ('transaction_table_reference', models.CharField(blank=True, help_text='Reference to the LLTransactionSummary/LLCashFlowSeries field this account maps to', max_length=255, null=True)),
            ],
            options={
                'verbose_name': 'Chart of Accounts',
                'verbose_name_plural': 'Chart of Accounts',
                'db_table': 'chart_of_accounts',
                'ordering': ['account_number'],
            },
        ),
        migrations.CreateModel(
            name='CoInvestor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('commitment_amount', models.DecimalField(blank=True, decimal_places=2, help_text='Total committed capital amount', max_digits=18, null=True)),
                ('ownership_percentage', models.DecimalField(blank=True, decimal_places=2, help_text='Ownership percentage (e.g., 25.50 for 25.5%)', max_digits=5, null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Whether this investor is currently active')),
                ('notes', models.TextField(blank=True, help_text='Additional notes about the investor', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Co-Investor',
                'verbose_name_plural': 'Co-Investors',
                'db_table': 'co_investor',
                'ordering': ['-created_at'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='CommercialUnits',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('units', models.IntegerField(help_text='Number of commercial units (use upper bound for ranges, e.g., 4 for 2-4 units)', unique=True)),
                ('fc_cost_scale', models.DecimalField(decimal_places=2, default=1.0, help_text='Foreclosure cost multiplier (e.g., 1.50 = 150% of base cost)', max_digits=5)),
                ('rehab_cost_scale', models.DecimalField(decimal_places=2, default=1.0, help_text='Rehab cost multiplier (e.g., 1.25 = 125% of base cost)', max_digits=5)),
                ('rehab_duration_scale', models.DecimalField(decimal_places=2, default=1.0, help_text='Rehab duration multiplier (e.g., 1.30 = 130% of base duration)', max_digits=5)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Commercial Unit Scaling',
                'verbose_name_plural': 'Commercial Unit Scalings',
                'db_table': 'commercial_units',
                'ordering': ['units'],
            },
        ),
        migrations.CreateModel(
            name='ComparableProperty',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('as_of_date', models.DateField(help_text='Date the comparable was ascertained.')),
                ('property_name', models.CharField(blank=True, help_text='Name of the comparable property (e.g., apartment complex name).', max_length=255, null=True)),
                ('street_address', models.CharField(help_text='Street address of the comparable property.', max_length=255)),
                ('city', models.CharField(help_text='City of the comparable property.', max_length=100)),
                ('state', models.CharField(help_text='State of the comparable property.', max_length=2)),
                ('zip_code', models.CharField(help_text='Zip code of the comparable property.', max_length=10)),
                ('distance_from_subject', models.IntegerField(blank=True, help_text='Distance from the subject property in feet.', null=True)),
                ('property_type', models.CharField(blank=True, help_text='Type of the comparable property (e.g., SFR, Multi-Family, Retail).', max_length=100, null=True)),
                ('property_style', models.CharField(blank=True, help_text='Style of the comparable property (e.g., Colonial, Ranch).', max_length=100, null=True)),
                ('beds', models.IntegerField(blank=True, help_text='Number of bedrooms.', null=True)),
                ('baths', models.DecimalField(blank=True, decimal_places=1, help_text='Number of bathrooms (e.g., 2.5).', max_digits=4, null=True)),
                ('units', models.IntegerField(blank=True, help_text='Number of units in the property.', null=True)),
                ('gross_square_ft_building', models.IntegerField(blank=True, help_text='For commercial...this is total sq feet including common areas. Gross square footage of the building.', null=True)),
                ('livable_square_ft_building', models.IntegerField(blank=True, help_text='Livable square footage of the building/ if SFR or non commercial this is just the basic total sq feet.', null=True)),
                ('year_built', models.IntegerField(blank=True, help_text='Year the property was built.', null=True)),
                ('total_lot_size', models.IntegerField(blank=True, help_text='Total lot size in square feet.', null=True)),
                ('market_type', models.CharField(blank=True, help_text='Type of the market (e.g., SFR, Multi-Family, Retail).', max_length=100, null=True)),
                ('submarket', models.CharField(blank=True, help_text='Submarket of the comparable property.', max_length=100, null=True)),
                ('building_class', models.CharField(blank=True, help_text='Building class of the comparable property.', max_length=100, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about this comparable.', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Comparable Property',
                'verbose_name_plural': 'Comparable Properties',
                'db_table': 'core_comparable_property',
                'ordering': ['-as_of_date', 'street_address'],
            },
        ),
        migrations.CreateModel(
            name='CountyReference',
            fields=[
                ('county_fips', models.CharField(help_text='5-digit FIPS code (2-digit state + 3-digit county)', max_length=5, primary_key=True, serialize=False)),
                ('county_name', models.CharField(help_text="Official county name (e.g., 'Los Angeles County', 'Cook County')", max_length=100)),
                ('population', models.IntegerField(blank=True, help_text='County population (from latest Census estimate)', null=True)),
                ('county_seat', models.CharField(blank=True, help_text='County seat (main city where courthouse is located)', max_length=100, null=True)),
            ],
            options={
                'verbose_name': 'County Reference',
                'verbose_name_plural': 'County References',
                'db_table': 'county_reference',
                'ordering': ['state', 'county_name'],
            },
        ),
        migrations.CreateModel(
            name='DebtFacility',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('facility_name', models.CharField(blank=True, max_length=255, null=True)),
                ('firm_name', models.CharField(blank=True, max_length=255, null=True)),
                ('firm_email', models.EmailField(blank=True, max_length=254, null=True)),
                ('firm_phone', models.CharField(blank=True, max_length=255, null=True)),
                ('commitment_size', models.DecimalField(blank=True, decimal_places=2, max_digits=18, null=True)),
                ('rate_index', models.CharField(blank=True, default='SOFR', max_length=16, null=True)),
                ('sofr_rate', models.DecimalField(blank=True, decimal_places=4, max_digits=6, null=True)),
                ('spread_bps', models.PositiveIntegerField(null=True)),
                ('start_date', models.DateField(null=True)),
                ('end_date', models.DateField(null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Debt Facility',
                'verbose_name_plural': 'Debt Facilities',
                'db_table': 'debt_facility',
                'ordering': ['-created_at'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Document',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('source_raw_id', models.IntegerField(blank=True, db_index=True, help_text='Snapshot of SellerRawData.id', null=True)),
                ('file', models.FileField(upload_to=core.models.attachments.get_document_path)),
                ('original_name', models.CharField(blank=True, max_length=255, null=True)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Document',
                'verbose_name_plural': 'Documents',
                'db_table': 'acq_broker_document',
                'ordering': ['uploaded_at'],
            },
        ),
        migrations.CreateModel(
            name='Entity',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Entity name (person name, company name, trust name, etc.)', max_length=255)),
                ('entity_type', models.CharField(choices=[('fund', 'Fund'), ('individual', 'Individual'), ('llc', 'LLC'), ('jv', 'Joint Venture'), ('corporation', 'Corporation'), ('partnership', 'Partnership'), ('spv', 'SPV'), ('trust', 'Trust'), ('other', 'Other')], help_text='Type of legal entity', max_length=50)),
                ('tax_id', models.CharField(blank=True, help_text='Tax ID/EIN/SSN', max_length=50, null=True)),
                ('email', models.EmailField(blank=True, help_text='Primary email contact', max_length=254)),
                ('phone', models.CharField(blank=True, help_text='Primary phone contact', max_length=50)),
                ('is_active', models.BooleanField(default=True, help_text='Whether this entity is currently active')),
                ('notes', models.TextField(blank=True, help_text='Additional notes about the entity')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Entity',
                'verbose_name_plural': 'Entities',
                'db_table': 'entity',
                'ordering': ['name'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='EntityMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ownership_percentage', models.DecimalField(decimal_places=2, help_text='Percentage ownership in parent entity', max_digits=5, validators=[django.core.validators.MinValueValidator(Decimal('0.00')), django.core.validators.MaxValueValidator(Decimal('100.00'))])),
                ('membership_date', models.DateField(help_text='When they became a member/owner')),
                ('capital_account', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Current capital account balance', max_digits=18)),
                ('distribution_percentage', models.DecimalField(blank=True, decimal_places=2, help_text='Distribution % if different from ownership % (optional)', max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00')), django.core.validators.MaxValueValidator(Decimal('100.00'))])),
                ('is_active', models.BooleanField(default=True, help_text='Whether this membership is currently active')),
                ('notes', models.TextField(blank=True, help_text='Additional notes about this membership')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Entity Membership',
                'verbose_name_plural': 'Entity Memberships',
                'db_table': 'entity_membership',
                'ordering': ['parent_entity', '-ownership_percentage'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='FCStatus',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('pre_fc', 'Pre-Foreclosure'), ('first_legal_filed', 'First Legal Filed (NOD/Complaint)'), ('mediation', 'Mediation'), ('order_of_reference', 'Order of Reference (Judicial Only)'), ('judgement', 'Judgment (Judicial Only)'), ('pre_sale_redemption', 'Pre-Sale Redemption'), ('sale_scheduled', 'Sale Scheduled'), ('sale_completed', 'Sale Completed'), ('post_sale_redemption', 'Post-Sale Redemption')], help_text='Current foreclosure status category', max_length=50)),
                ('order', models.IntegerField(default=0, help_text='Order in which this status typically occurs (lower numbers = earlier stages)')),
                ('notes', models.TextField(blank=True, help_text='Additional notes or context about this foreclosure status', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Foreclosure Status',
                'verbose_name_plural': 'Foreclosure Statuses',
                'db_table': 'fc_status',
                'ordering': ['order', 'status'],
            },
        ),
        migrations.CreateModel(
            name='FCTimelines',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('duration_days', models.IntegerField(blank=True, help_text='Average number of days to complete this status in this state', null=True)),
                ('cost_avg', models.DecimalField(blank=True, decimal_places=2, help_text='Average cost associated with this status in this state', max_digits=10, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about this status in this state', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Foreclosure Timeline',
                'verbose_name_plural': 'Foreclosure Timelines',
                'db_table': 'fc_timelines',
                'ordering': ['state', 'fc_status'],
            },
        ),
        migrations.CreateModel(
            name='FirmCRM',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('phone', models.CharField(blank=True, max_length=255, null=True, unique=True)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('tag', models.CharField(blank=True, choices=[('broker', 'Broker'), ('trading_partner', 'Trading Partner'), ('investor', 'Investor'), ('legal', 'Legal'), ('vendor', 'Vendor'), ('servicer', 'Servicer'), ('title_company', 'Title Company')], db_index=True, max_length=32, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Firm CRM',
                'verbose_name_plural': 'Firm CRM',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='FundLegalEntity',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nickname_name', models.CharField(blank=True, help_text='Internal nickname/alias for this legal entity', max_length=255, null=True)),
                ('entity_role', models.CharField(blank=True, choices=[('fund', 'Fund'), ('gp', 'GP'), ('lp', 'LP'), ('spv', 'SPV'), ('jv', 'Joint Venture'), ('co_investor', 'Co-Investor'), ('other', 'Other')], help_text='Role this entity plays in the fund structure', max_length=50, null=True)),
                ('jurisdiction', models.CharField(blank=True, help_text='State/country of formation (e.g., Delaware, Cayman Islands)', max_length=100, null=True)),
                ('tax_id', models.CharField(blank=True, help_text='Tax ID/EIN for this entity', max_length=50, null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Whether this entity is currently active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Fund Legal Entity',
                'verbose_name_plural': 'Fund Legal Entities',
                'db_table': 'fund_legal_entity',
                'ordering': ['fund', 'entity_role', 'nickname_name'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='FundMembership',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('member_type', models.CharField(choices=[('gp', 'General Partner'), ('lp', 'Limited Partner'), ('co_investor', 'Co-Investor'), ('spv', 'Special Purpose Vehicle'), ('other', 'Other')], help_text='GP or LP designation', max_length=20)),
                ('admission_date', models.DateField(help_text='Date when entity joined the fund')),
                ('ownership_percentage', models.DecimalField(decimal_places=2, help_text='Ownership percentage in fund (e.g., 20.00 for 20%)', max_digits=5, validators=[django.core.validators.MinValueValidator(Decimal('0.00')), django.core.validators.MaxValueValidator(Decimal('100.00'))])),
                ('capital_committed', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Total capital commitment', max_digits=18)),
                ('capital_contributed', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Capital actually contributed to date', max_digits=18)),
                ('is_active', models.BooleanField(default=True, help_text='Whether this membership is currently active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Fund Membership',
                'verbose_name_plural': 'Fund Memberships',
                'db_table': 'fund_membership',
                'ordering': ['fund', 'member_type', '-ownership_percentage'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='GeneralLedgerBucket',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Bucket name', max_length=100, unique=True)),
                ('code', models.CharField(blank=True, help_text='Short code for the bucket', max_length=50, null=True, unique=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'GL Bucket',
                'verbose_name_plural': 'GL Buckets',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='GeneralLedgerEntries',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('entry', models.CharField(db_index=True, help_text='General ledger entry identifier or reference number', max_length=100, unique=True)),
                ('company_name', models.CharField(db_index=True, help_text='Name of the company associated with this GL entry', max_length=255)),
                ('loan_number', models.CharField(blank=True, db_index=True, help_text='Loan number associated with this GL entry (legacy field, prefer asset_link)', max_length=100, null=True)),
                ('borrower_name', models.CharField(blank=True, help_text='Name of the borrower associated with this loan', max_length=255, null=True)),
                ('document_number', models.CharField(blank=True, db_index=True, help_text='Internal document number for this GL entry', max_length=100, null=True)),
                ('external_document_number', models.CharField(blank=True, help_text='External document number or reference from third-party systems', max_length=100, null=True)),
                ('document_type', models.CharField(blank=True, help_text='Type of document (e.g., Invoice, Receipt, Journal Entry, etc.)', max_length=100, null=True)),
                ('loan_type', models.CharField(blank=True, help_text='Type of loan (e.g., Commercial, Residential, etc.)', max_length=100, null=True)),
                ('date_funded', models.DateField(blank=True, help_text='Date when the loan was funded (if applicable)', null=True)),
                ('posting_date', models.DateField(db_index=True, help_text='Date when the GL entry was posted to the ledger')),
                ('entry_date', models.DateField(db_index=True, help_text='Date when the GL entry was created or entered into the system')),
                ('amount', models.DecimalField(blank=True, decimal_places=2, help_text='Total transaction amount (if using a single amount field)', max_digits=15, null=True)),
                ('credit_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Credit amount for this GL entry (increases liability/equity/revenue)', max_digits=15)),
                ('debit_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Debit amount for this GL entry (increases assets/expenses)', max_digits=15)),
                ('account_number', models.CharField(db_index=True, help_text='Chart of accounts number for this GL entry', max_length=50)),
                ('account_name', models.CharField(help_text='Name of the account from the chart of accounts', max_length=255)),
                ('description', models.TextField(blank=True, help_text='Detailed description of the GL entry transaction', null=True)),
                ('reason_code', models.CharField(blank=True, help_text='Code indicating the reason or category for this GL entry', max_length=50, null=True)),
                ('comment', models.TextField(blank=True, help_text='Additional comments or notes about this GL entry', null=True)),
                ('cost_center', models.CharField(blank=True, db_index=True, help_text='Cost center code for departmental tracking and allocation', max_length=50, null=True)),
                ('cost_center_name', models.CharField(blank=True, help_text='Name of the cost center for easier identification', max_length=255, null=True)),
                ('tag', models.CharField(blank=True, choices=[('loan_origination', 'Loan Origination'), ('loan_payment', 'Loan Payment'), ('loan_modification', 'Loan Modification'), ('property_acquisition', 'Property Acquisition'), ('property_disposition', 'Property Disposition'), ('operating_expense', 'Operating Expense'), ('capital_expense', 'Capital Expense'), ('interest_income', 'Interest Income'), ('interest_expense', 'Interest Expense'), ('fee_income', 'Fee Income'), ('impairment', 'Impairment'), ('recovery', 'Recovery'), ('adjustment', 'Adjustment'), ('other', 'Other')], db_index=True, help_text='Categorical tag for GL entry type (e.g., Loan Origination, Property Acquisition)', max_length=50, null=True)),
                ('ai_notes', models.TextField(blank=True, help_text='AI-generated notes, insights, or suggestions for this GL entry (future AI integration)', null=True)),
                ('requires_review', models.BooleanField(db_index=True, default=False, help_text='Flag indicating this entry requires human review or attention')),
                ('review_notes', models.TextField(blank=True, help_text='Notes from review process or reasons for flagging', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Timestamp when this record was created in the database')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Timestamp when this record was last updated')),
            ],
            options={
                'verbose_name': 'General Ledger Entry',
                'verbose_name_plural': 'General Ledger Entries',
                'db_table': 'general_ledger_entries',
                'ordering': ['-posting_date', '-entry_date'],
            },
        ),
        migrations.CreateModel(
            name='GeneralLedgerTag',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Tag name', max_length=50, unique=True)),
                ('description', models.TextField(blank=True, help_text='Optional description of the tag', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'GL Tag',
                'verbose_name_plural': 'GL Tags',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='HistoricalPropertyCashFlow',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('year', models.PositiveIntegerField(help_text='Calendar year for this cash flow data (e.g., 2024).')),
                ('gross_potential_rent_revenue', models.DecimalField(blank=True, decimal_places=2, help_text='Gross potential rent (GPR) - fully occupied rent for the year.', max_digits=14, null=True)),
                ('cam_income', models.DecimalField(blank=True, decimal_places=2, help_text='CAM income for the year.', max_digits=14, null=True)),
                ('other_income', models.DecimalField(blank=True, decimal_places=2, help_text='Other income (parking, laundry, pet fees, etc.).', max_digits=14, null=True)),
                ('vacancy_pct', models.DecimalField(blank=True, decimal_places=2, help_text='Vacancy percentage for the year (as decimal, e.g., 5.00 for 5%).', max_digits=5, null=True)),
                ('admin', models.DecimalField(blank=True, decimal_places=2, help_text='Administrative expenses.', max_digits=14, null=True)),
                ('insurance', models.DecimalField(blank=True, decimal_places=2, help_text='Property insurance costs.', max_digits=14, null=True)),
                ('utilities_water', models.DecimalField(blank=True, decimal_places=2, help_text='Water utility expenses.', max_digits=14, null=True)),
                ('utilities_sewer', models.DecimalField(blank=True, decimal_places=2, help_text='Sewer utility expenses.', max_digits=14, null=True)),
                ('utilities_electric', models.DecimalField(blank=True, decimal_places=2, help_text='Electric utility expenses.', max_digits=14, null=True)),
                ('utilities_gas', models.DecimalField(blank=True, decimal_places=2, help_text='Gas utility expenses.', max_digits=14, null=True)),
                ('trash', models.DecimalField(blank=True, decimal_places=2, help_text='Trash removal expenses.', max_digits=14, null=True)),
                ('utilities_other', models.DecimalField(blank=True, decimal_places=2, help_text='Other utility expenses.', max_digits=14, null=True)),
                ('property_management', models.DecimalField(blank=True, decimal_places=2, help_text='Property management fees.', max_digits=14, null=True)),
                ('repairs_maintenance', models.DecimalField(blank=True, decimal_places=2, help_text='Repairs and maintenance costs.', max_digits=14, null=True)),
                ('marketing', models.DecimalField(blank=True, decimal_places=2, help_text='Marketing and leasing costs.', max_digits=14, null=True)),
                ('property_taxes', models.DecimalField(blank=True, decimal_places=2, help_text='Property taxes.', max_digits=14, null=True)),
                ('hoa_fees', models.DecimalField(blank=True, decimal_places=2, help_text='HOA fees (if applicable).', max_digits=14, null=True)),
                ('security_property_preservation', models.DecimalField(blank=True, decimal_places=2, help_text='Security expenses.', max_digits=14, null=True)),
                ('landscaping', models.DecimalField(blank=True, decimal_places=2, help_text='Landscaping and grounds maintenance.', max_digits=14, null=True)),
                ('pool_maintenance', models.DecimalField(blank=True, decimal_places=2, help_text='Pool maintenance costs.', max_digits=14, null=True)),
                ('other_expense', models.DecimalField(blank=True, decimal_places=2, help_text='Other miscellaneous operating expenses.', max_digits=14, null=True)),
                ('notes', models.TextField(blank=True, help_text="Additional notes about this year's performance.", null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Historical Property Cash Flow',
                'verbose_name_plural': 'Historical Property Cash Flows',
                'db_table': 'core_historical_property_cashflow',
                'ordering': ['asset_hub', '-year'],
            },
        ),
        migrations.CreateModel(
            name='HOAAssumption',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('property_type', models.CharField(choices=[('SFR', 'SFR'), ('Manufactured', 'Manufactured'), ('Condo', 'Condo'), ('Townhouse', 'Townhouse'), ('2-4 Family', '2-4 Family'), ('Multifamily 5+', 'Multifamily 5+'), ('Land', 'Land'), ('Industrial', 'Industrial'), ('Mixed Use', 'Mixed Use'), ('Storage', 'Storage'), ('Healthcare', 'Healthcare')], help_text='Property type (typically residential types like SFR, Condo, Townhouse, etc.)', max_length=20, unique=True)),
                ('monthly_hoa_fee', models.DecimalField(decimal_places=2, help_text='Default monthly HOA fee for this property type', max_digits=10)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about HOA assumptions for this property type', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'HOA Assumption',
                'verbose_name_plural': 'HOA Assumptions',
                'db_table': 'hoa_assumptions',
                'ordering': ['property_type'],
            },
        ),
        migrations.CreateModel(
            name='HUDZIPCBSACrosswalk',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('zip_code', models.CharField(db_index=True, help_text='5-digit ZIP code from HUD crosswalk', max_length=5)),
                ('cbsa_code', models.CharField(blank=True, db_index=True, help_text='5-digit CBSA code (blank for rural ZIPs)', max_length=5, null=True)),
                ('city', models.CharField(blank=True, help_text='USPS preferred city name', max_length=100, null=True)),
                ('state_code', models.CharField(db_index=True, help_text='Two-letter state code', max_length=2)),
                ('res_ratio', models.DecimalField(decimal_places=9, default=Decimal('0.0'), help_text='Residential address ratio (0.0 to 1.0)', max_digits=12)),
                ('bus_ratio', models.DecimalField(decimal_places=9, default=Decimal('0.0'), help_text='Business address ratio (0.0 to 1.0)', max_digits=12)),
                ('oth_ratio', models.DecimalField(decimal_places=9, default=Decimal('0.0'), help_text='Other address ratio (0.0 to 1.0)', max_digits=12)),
                ('tot_ratio', models.DecimalField(db_index=True, decimal_places=9, default=Decimal('0.0'), help_text='Total address ratio (0.0 to 1.0) - use for dominant CBSA selection', max_digits=12)),
                ('imported_at', models.DateTimeField(auto_now_add=True, help_text='When this record was imported')),
            ],
            options={
                'verbose_name': 'HUD ZIP-CBSA Crosswalk',
                'verbose_name_plural': 'HUD ZIP-CBSA Crosswalks',
                'db_table': 'hud_zip_cbsa_crosswalk',
                'ordering': ['zip_code', '-tot_ratio'],
            },
        ),
        migrations.CreateModel(
            name='InvestorContribution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('contribution_date', models.DateField(help_text='Date when capital was contributed')),
                ('amount', models.DecimalField(decimal_places=2, help_text='Contribution amount', max_digits=18, validators=[django.core.validators.MinValueValidator(Decimal('0'))])),
                ('payment_method', models.CharField(blank=True, help_text='Payment method (wire, check, ACH, etc.)', max_length=100, null=True)),
                ('reference_number', models.CharField(blank=True, help_text='Payment reference or transaction number', max_length=100, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about this contribution', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Investor Contribution',
                'verbose_name_plural': 'Investor Contributions',
                'db_table': 'investor_contribution',
                'ordering': ['-contribution_date', '-created_at'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='InvestorDistribution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('distribution_date', models.DateField(help_text='Date when distribution was made')),
                ('amount', models.DecimalField(decimal_places=2, help_text='Distribution amount', max_digits=18, validators=[django.core.validators.MinValueValidator(Decimal('0'))])),
                ('distribution_type', models.CharField(choices=[('return_of_capital', 'Return of Capital'), ('profit_distribution', 'Profit Distribution'), ('preferred_return', 'Preferred Return'), ('promote', 'Promote/Carried Interest'), ('other', 'Other')], default='profit_distribution', help_text='Type of distribution', max_length=50)),
                ('payment_method', models.CharField(blank=True, help_text='Payment method (wire, check, ACH, etc.)', max_length=100, null=True)),
                ('reference_number', models.CharField(blank=True, help_text='Payment reference or transaction number', max_length=100, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about this distribution', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Investor Distribution',
                'verbose_name_plural': 'Investor Distributions',
                'db_table': 'investor_distribution',
                'ordering': ['-distribution_date', '-created_at'],
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='LeaseComparable',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('monthly_rent', models.DecimalField(blank=True, decimal_places=2, help_text='Monthly rent amount.', max_digits=10, null=True)),
                ('lease_start_date', models.DateField(blank=True, help_text='Lease start date.', null=True)),
                ('lease_end_date', models.DateField(blank=True, help_text='Lease end date.', null=True)),
                ('lease_term_months', models.IntegerField(blank=True, help_text='Lease term in months.', null=True)),
                ('lease_type', models.CharField(blank=True, help_text='Type of lease (e.g., NNN, Gross, Modified Gross).', max_length=50, null=True)),
                ('lease_escalation', models.DecimalField(blank=True, decimal_places=2, help_text='Lease escalation percentage.', max_digits=10, null=True)),
                ('lease_escalation_frequency', models.CharField(blank=True, help_text='Lease escalation frequency (e.g., Annual, Semi-Annual, Quarterly).', max_length=50, null=True)),
                ('cam_monthly', models.DecimalField(blank=True, decimal_places=2, help_text='Monthly CAM charge.', max_digits=10, null=True)),
                ('comp_rating', models.PositiveSmallIntegerField(blank=True, choices=[(1, '1 - Poor'), (2, '2 - Fair'), (3, '3 - Average'), (4, '4 - Good'), (5, '5 - Excellent')], help_text='Lease comp quality: 1 (poor match) to 5 (excellent match). Based on rent similarity, lease terms, amenities, location.', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Lease Comparable',
                'verbose_name_plural': 'Lease Comparables',
                'db_table': 'core_lease_comparable',
                'ordering': ['-lease_start_date'],
            },
        ),
        migrations.CreateModel(
            name='LeaseComparableRentRoll',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unit_number', models.CharField(blank=True, help_text='Unit number or identifier (e.g., "101", "2A", "Suite 200").', max_length=50, null=True)),
                ('beds', models.IntegerField(blank=True, help_text='Number of bedrooms in this unit (overrides property-level if specified).', null=True)),
                ('baths', models.DecimalField(blank=True, decimal_places=1, help_text='Number of bathrooms in this unit (e.g., 2.5).', max_digits=4, null=True)),
                ('unit_sqft', models.IntegerField(blank=True, help_text='Square footage of this unit.', null=True)),
                ('monthly_rent', models.DecimalField(blank=True, decimal_places=2, help_text='Monthly rent for this unit.', max_digits=10, null=True)),
                ('lease_start_date', models.DateField(blank=True, help_text='Lease start date for this unit.', null=True)),
                ('lease_end_date', models.DateField(blank=True, help_text='Lease end date for this unit.', null=True)),
                ('lease_term_months', models.IntegerField(blank=True, help_text='Lease term in months for this unit.', null=True)),
                ('lease_type', models.CharField(blank=True, help_text='Type of lease for this unit (e.g., NNN, Gross, Modified Gross).', max_length=50, null=True)),
                ('lease_escalation', models.DecimalField(blank=True, decimal_places=2, help_text='Lease escalation percentage for this unit (e.g., 3.00 for 3%).', max_digits=5, null=True)),
                ('lease_escalation_frequency', models.CharField(blank=True, help_text='Escalation frequency (e.g., Annual, Semi-Annual, Quarterly).', max_length=50, null=True)),
                ('cam_monthly', models.DecimalField(blank=True, decimal_places=2, help_text='Monthly CAM charge for this unit.', max_digits=10, null=True)),
                ('is_occupied', models.BooleanField(default=True, help_text='Whether this unit is currently occupied.')),
                ('tenant_name', models.CharField(blank=True, help_text='Tenant name (optional, for tracking).', max_length=255, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about this unit lease.', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Lease Comparable Unit',
                'verbose_name_plural': 'Lease Comparable Units',
                'db_table': 'core_lease_comparable_unit',
                'ordering': ['comparable_property', 'unit_number'],
            },
        ),
        migrations.CreateModel(
            name='LeaseComparableUnitMix',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unit_type', models.CharField(help_text="Type of unit (e.g., '1BR', '2BR', 'Studio', 'Retail', 'Office')", max_length=50)),
                ('unit_count', models.IntegerField(help_text='Number of units of this type')),
                ('unit_avg_sqft', models.IntegerField(help_text='Average square footage per unit of this type')),
                ('unit_avg_rent', models.DecimalField(decimal_places=2, help_text='Average monthly rent per unit of this type', max_digits=10)),
                ('price_sqft', models.DecimalField(blank=True, decimal_places=2, editable=False, help_text='Calculated: unit_avg_rent / unit_avg_sqft (rent per sqft)', max_digits=10, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about this unit type', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Lease Comparable Unit Mix',
                'verbose_name_plural': 'Lease Comparable Unit Mix Records',
                'db_table': 'core_lease_comparable_unit_mix',
                'ordering': ['comparable_property', 'unit_type'],
            },
        ),
        migrations.CreateModel(
            name='LLCashFlowSeries',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('period_date', models.DateField(help_text='Period start date (calculated from purchase_date + period_number months)')),
                ('period_number', models.IntegerField(help_text='Sequential period number (0=acquisition, 1=first month, etc.)')),
                ('purchase_price', models.DecimalField(decimal_places=2, default=0, help_text='Purchase price (negative cash flow in period 0)', max_digits=15)),
                ('acq_due_diligence_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Due diligence costs for this period', max_digits=15)),
                ('acq_legal_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Legal costs for acquisition in this period', max_digits=15)),
                ('acq_title_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Title costs for this period', max_digits=15)),
                ('acq_other_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Other acquisition costs for this period', max_digits=15)),
                ('income_principal', models.DecimalField(decimal_places=2, default=0, help_text='Principal collected in this period', max_digits=15)),
                ('income_interest', models.DecimalField(decimal_places=2, default=0, help_text='Interest collected in this period', max_digits=15)),
                ('income_rent', models.DecimalField(decimal_places=2, default=0, help_text='Rent collected in this period', max_digits=15)),
                ('income_cam', models.DecimalField(decimal_places=2, default=0, help_text='CAM income for this period', max_digits=15)),
                ('income_mod_down_payment', models.DecimalField(decimal_places=2, default=0, help_text='Modification down payment for this period', max_digits=15)),
                ('servicing_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Servicing fees paid in this period', max_digits=15)),
                ('am_fees_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Asset management fees for this period', max_digits=15)),
                ('property_tax_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Property taxes paid in this period', max_digits=15)),
                ('property_insurance_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Property insurance paid in this period', max_digits=15)),
                ('legal_foreclosure_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Foreclosure fees for this period', max_digits=15)),
                ('legal_bankruptcy_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Bankruptcy legal fees for this period', max_digits=15)),
                ('legal_dil_expenses', models.DecimalField(decimal_places=2, default=0, help_text='DIL fees for this period', max_digits=15)),
                ('legal_cash_for_keys_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Cash for keys fees for this period', max_digits=15)),
                ('legal_eviction_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Eviction fees for this period', max_digits=15)),
                ('reo_hoa_expenses', models.DecimalField(decimal_places=2, default=0, help_text='HOA fees paid in this period', max_digits=15)),
                ('reo_utilities_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Utilities paid in this period', max_digits=15)),
                ('reo_trashout_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Trashout costs for this period', max_digits=15)),
                ('reo_renovation_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Renovation costs for this period', max_digits=15)),
                ('reo_property_preservation_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Property preservation costs for this period', max_digits=15)),
                ('cre_marketing_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Marketing costs for this period', max_digits=15)),
                ('cre_ga_pool_expenses', models.DecimalField(decimal_places=2, default=0, help_text='G&A pool/groundskeeping costs for this period', max_digits=15)),
                ('cre_maintenance_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Maintenance costs for this period', max_digits=15)),
                ('fund_taxes_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Fund-level taxes for this period', max_digits=15)),
                ('fund_legal_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Fund-level legal costs for this period', max_digits=15)),
                ('fund_consulting_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Fund-level consulting costs for this period', max_digits=15)),
                ('fund_audit_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Fund-level audit costs for this period', max_digits=15)),
                ('proceeds', models.DecimalField(decimal_places=2, default=0, help_text='Gross liquidation proceeds for this period', max_digits=15)),
                ('broker_closing_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Broker closing costs for this period', max_digits=15)),
                ('other_closing_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Other closing costs for this period', max_digits=15)),
                ('net_liquidation_proceeds', models.DecimalField(decimal_places=2, default=0, help_text='Net liquidation proceeds for this period', max_digits=15)),
                ('total_income', models.DecimalField(decimal_places=2, default=0, help_text='Sum of all income line items for this period', max_digits=15)),
                ('total_expenses', models.DecimalField(decimal_places=2, default=0, help_text='Sum of all expense line items for this period', max_digits=15)),
                ('net_cash_flow', models.DecimalField(decimal_places=2, default=0, help_text='Net cash flow for this period (income - expenses - costs)', max_digits=15)),
            ],
            options={
                'verbose_name': 'Loan-Level Cash Flow Series',
                'verbose_name_plural': 'Loan-Level Cash Flow Series',
                'db_table': 'll_cash_flow_series',
                'ordering': ['asset_hub', 'period_number'],
            },
        ),
        migrations.CreateModel(
            name='LlDataEnrichment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('geocode_lat', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('geocode_lng', models.DecimalField(blank=True, decimal_places=6, max_digits=9, null=True)),
                ('geocode_used_address', models.CharField(blank=True, max_length=255, null=True)),
                ('geocode_full_address', models.CharField(blank=True, max_length=255, null=True)),
                ('geocode_display_address', models.CharField(blank=True, max_length=255, null=True)),
                ('geocoded_at', models.DateTimeField(blank=True, null=True)),
                ('geocode_county', models.CharField(blank=True, max_length=255, null=True)),
                ('geocode_msa', models.CharField(blank=True, help_text='Human-friendly MSA name returned by Geocodio census append.', max_length=255, null=True)),
                ('geocode_msa_code', models.CharField(blank=True, help_text='MSA/CBSA code returned by Geocodio census append.', max_length=10, null=True)),
                ('geocode_state_fips', models.CharField(blank=True, help_text='State FIPS code from Geocodio census data.', max_length=2, null=True)),
                ('geocode_county_fips', models.CharField(blank=True, help_text='County FIPS code from Geocodio census data.', max_length=5, null=True)),
                ('geocode_tract_code', models.CharField(blank=True, help_text='Census tract code from Geocodio census data.', max_length=10, null=True)),
                ('geocode_full_fips', models.CharField(blank=True, help_text='Full FIPS code from Geocodio census data.', max_length=15, null=True)),
                ('geocode_msa_type', models.CharField(blank=True, help_text='MSA type (metropolitan/micropolitan) from Geocodio census data.', max_length=20, null=True)),
                ('geocode_csa_name', models.CharField(blank=True, help_text='Combined Statistical Area name from Geocodio census data.', max_length=255, null=True)),
                ('geocode_csa_code', models.CharField(blank=True, help_text='Combined Statistical Area code from Geocodio census data.', max_length=10, null=True)),
                ('geocode_county_name', models.CharField(blank=True, help_text='County name from Geocodio census data.', max_length=100, null=True)),
                ('geocode_block_code', models.CharField(blank=True, help_text='Census block code from Geocodio census data.', max_length=10, null=True)),
                ('geocode_block_group', models.CharField(blank=True, help_text='Census block group from Geocodio census data.', max_length=10, null=True)),
                ('geocode_place_name', models.CharField(blank=True, help_text='Place name from Geocodio census data.', max_length=255, null=True)),
                ('geocode_place_fips', models.CharField(blank=True, help_text='Place FIPS code from Geocodio census data.', max_length=10, null=True)),
                ('geocode_metdiv_name', models.CharField(blank=True, help_text='Metropolitan division name from Geocodio census data.', max_length=255, null=True)),
                ('geocode_metdiv_code', models.CharField(blank=True, help_text='Metropolitan division code from Geocodio census data.', max_length=10, null=True)),
                ('geocode_county_subdivision_name', models.CharField(blank=True, help_text='County subdivision name from Geocodio census data.', max_length=255, null=True)),
                ('geocode_county_subdivision_fips', models.CharField(blank=True, help_text='County subdivision FIPS code from Geocodio census data.', max_length=10, null=True)),
                ('geocode_county_subdivision_class_code', models.CharField(blank=True, help_text='County subdivision class code from Geocodio census data.', max_length=10, null=True)),
                ('geocode_county_subdivision_class_desc', models.CharField(blank=True, help_text='County subdivision class description from Geocodio census data.', max_length=255, null=True)),
                ('geocode_census_year', models.CharField(blank=True, help_text='Census year used for Geocodio census data.', max_length=4, null=True)),
                ('geocode_census_source', models.CharField(blank=True, help_text='Source string from Geocodio census data.', max_length=255, null=True)),
                ('geocode_school_district', models.CharField(blank=True, help_text='School district name from Geocodio school field.', max_length=255, null=True)),
                ('geocode_school_district_lea_code', models.CharField(blank=True, help_text='School district LEA code from Geocodio school field.', max_length=20, null=True)),
                ('geocode_school_district_grade_low', models.CharField(blank=True, help_text='Lowest grade served by the school district (e.g. PK, KG).', max_length=10, null=True)),
                ('geocode_school_district_grade_high', models.CharField(blank=True, help_text='Highest grade served by the school district.', max_length=10, null=True)),
                ('geocode_school_district_type', models.CharField(blank=True, help_text='School district type reported by Geocodio (unified, elementary, secondary).', max_length=32, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Loan Level Data Enrichment',
                'verbose_name_plural': 'Loan Level Data Enrichments',
                'db_table': 'acq_ll_data_enrichment',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MasterCRM',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('contact_name', models.CharField(blank=True, max_length=255, null=True)),
                ('city', models.CharField(blank=True, max_length=255, null=True)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('phone', models.CharField(blank=True, max_length=255, null=True)),
                ('preferred', models.CharField(blank=True, choices=[('yes', 'Yes'), ('no', 'No')], db_index=True, help_text='Preferred broker flag stored as yes/no text', max_length=3, null=True)),
                ('tag', models.CharField(blank=True, choices=[('broker', 'Broker'), ('trading_partner', 'Trading Partner'), ('investor', 'Investor'), ('legal', 'Legal'), ('vendor', 'Vendor'), ('servicer', 'Servicer'), ('title_company', 'Title Company')], db_index=True, help_text='Contact type: Broker, Trading Partner, Investor, Legal, Servicer, or Vendor', max_length=32, null=True)),
                ('alt_contact_name', models.CharField(blank=True, max_length=255, null=True)),
                ('alt_contact_email', models.EmailField(blank=True, max_length=254, null=True)),
                ('alt_contact_phone', models.CharField(blank=True, max_length=255, null=True)),
                ('nda_flag', models.BooleanField(default=False)),
                ('nda_signed', models.DateField(blank=True, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Master CRM',
                'verbose_name_plural': 'Master CRM',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MSAReference',
            fields=[
                ('msa_code', models.CharField(help_text='5-digit CBSA code from Census Bureau', max_length=5, primary_key=True, serialize=False)),
                ('msa_name', models.CharField(help_text="Full MSA name from Census Bureau (e.g., 'New York-Newark-Jersey City, NY-NJ-PA')", max_length=255)),
            ],
            options={
                'verbose_name': 'MSA Reference',
                'verbose_name_plural': 'MSA References',
                'db_table': 'msa_reference',
                'ordering': ['msa_name'],
            },
        ),
        migrations.CreateModel(
            name='Notification',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('event_type', models.CharField(choices=[('trade_import', 'Trade Import'), ('task_changed', 'Task Changed'), ('asset_liquidated', 'Asset Liquidated')], db_index=True, max_length=64)),
                ('title', models.CharField(max_length=255)),
                ('message', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('metadata', models.JSONField(blank=True, null=True)),
            ],
            options={
                'ordering': ['-created_at', '-id'],
            },
        ),
        migrations.CreateModel(
            name='NotificationRead',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('read_at', models.DateTimeField(db_index=True, default=django.utils.timezone.now)),
            ],
        ),
        migrations.CreateModel(
            name='Photo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('source_raw_id', models.IntegerField(blank=True, db_index=True, help_text='Snapshot of SellerRawData.id', null=True)),
                ('image', models.ImageField(help_text='Uploaded image file.', upload_to=core.models.attachments.get_photo_path)),
                ('source_tag', models.CharField(choices=[('broker', 'Broker'), ('document', 'Document'), ('public', 'Public'), ('internal', 'Internal')], help_text='Origin tag for the photo.', max_length=20)),
                ('caption', models.CharField(blank=True, max_length=255, null=True)),
                ('is_primary', models.BooleanField(default=False)),
                ('source_document_name', models.CharField(blank=True, max_length=255, null=True)),
                ('source_document_type', models.CharField(blank=True, max_length=20, null=True)),
                ('page_number', models.IntegerField(blank=True, null=True)),
                ('bbox', models.JSONField(blank=True, null=True)),
                ('extraction_confidence', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('source_tool', models.CharField(blank=True, max_length=100, null=True)),
                ('source_url', models.URLField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Photo',
                'verbose_name_plural': 'Photos',
                'db_table': 'acq_photo',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PropertyTypeAssumption',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('property_type', models.CharField(choices=[('SFR', 'SFR'), ('Manufactured', 'Manufactured'), ('Condo', 'Condo'), ('Townhouse', 'Townhouse'), ('2-4 Family', '2-4 Family'), ('Multifamily 5+', 'Multifamily 5+'), ('Land', 'Land'), ('Industrial', 'Industrial'), ('Mixed Use', 'Mixed Use'), ('Storage', 'Storage'), ('Healthcare', 'Healthcare')], help_text='Property type for these assumptions', max_length=20, unique=True)),
                ('utility_electric_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly electric utility cost in dollars', max_digits=10, null=True)),
                ('utility_gas_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly gas utility cost in dollars', max_digits=10, null=True)),
                ('utility_water_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly water utility cost in dollars', max_digits=10, null=True)),
                ('utility_sewer_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly sewer utility cost in dollars', max_digits=10, null=True)),
                ('utility_trash_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly trash utility cost in dollars', max_digits=10, null=True)),
                ('utility_other_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly other utility costs in dollars', max_digits=10, null=True)),
                ('property_management_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly property management cost in dollars', max_digits=10, null=True)),
                ('repairs_maintenance_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly repairs and maintenance cost in dollars', max_digits=10, null=True)),
                ('marketing_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly marketing cost in dollars', max_digits=10, null=True)),
                ('trashout_cost', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='One-time trashout cost in dollars', max_digits=10, null=True)),
                ('renovation_cost', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='One-time renovation cost in dollars', max_digits=10, null=True)),
                ('security_cost_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly security cost in dollars', max_digits=10, null=True)),
                ('landscaping_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly landscaping cost in dollars', max_digits=10, null=True)),
                ('pool_maintenance_monthly', models.DecimalField(blank=True, decimal_places=2, default=None, help_text='Monthly pool maintenance cost in dollars', max_digits=10, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about these property type assumptions', null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Whether these assumptions are currently active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Property Type Assumption',
                'verbose_name_plural': 'Property Type Assumptions',
                'db_table': 'property_type_assumptions',
                'ordering': ['property_type'],
            },
        ),
        migrations.CreateModel(
            name='RentRoll',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tenant_name', models.CharField(blank=True, help_text='Name of the tenant', max_length=100, null=True)),
                ('unit_name', models.CharField(blank=True, help_text='Name of the unit', max_length=100, null=True)),
                ('sq_feet', models.IntegerField(blank=True, help_text='Square footage of the unit', null=True)),
                ('rent', models.DecimalField(blank=True, decimal_places=2, help_text='Monthly rent amount', max_digits=10, null=True)),
                ('cam_month', models.IntegerField(blank=True, help_text='CAM month', null=True)),
                ('lease_term_months', models.IntegerField(blank=True, help_text='Lease term in months. If blank, will be auto-calculated from start/end dates.', null=True)),
                ('lease_start_date', models.DateField(blank=True, help_text='Lease start date', null=True)),
                ('lease_end_date', models.DateField(blank=True, help_text='Lease end date', null=True)),
                ('lease_type', models.CharField(blank=True, help_text='Type of lease', max_length=50, null=True)),
                ('rent_increase_pct', models.DecimalField(blank=True, decimal_places=2, help_text='Rent increase percentage', max_digits=5, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes or comments about this unit type', null=True)),
            ],
        ),
        migrations.CreateModel(
            name='SalesComparable',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('current_listed_price', models.DecimalField(blank=True, decimal_places=2, help_text='Current listed price of the comparable property.', max_digits=15, null=True)),
                ('current_listed_date', models.DateField(blank=True, help_text='Current listed date of the comparable property.', null=True)),
                ('last_sales_price', models.DecimalField(blank=True, decimal_places=2, help_text='Last sales price of the comparable property.', max_digits=15, null=True)),
                ('last_sales_date', models.DateField(blank=True, help_text='Last sales date of the comparable property.', null=True)),
                ('comp_rating', models.PositiveSmallIntegerField(blank=True, choices=[(1, '1 - Poor'), (2, '2 - Fair'), (3, '3 - Average'), (4, '4 - Good'), (5, '5 - Excellent')], help_text='Sales comp quality: 1 (poor match) to 5 (excellent match). Based on distance, bed/bath, sale recency, price similarity.', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Sales Comparable',
                'verbose_name_plural': 'Sales Comparables',
                'db_table': 'core_sales_comparable',
                'ordering': ['-last_sales_date'],
            },
        ),
        migrations.CreateModel(
            name='Servicer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('servicer_name', models.CharField(max_length=100, unique=True)),
                ('contact_name', models.CharField(blank=True, max_length=100, null=True)),
                ('contact_email', models.EmailField(blank=True, max_length=254, null=True)),
                ('contact_phone', models.CharField(blank=True, max_length=20, null=True)),
                ('servicing_transfer_duration', models.IntegerField(blank=True, null=True)),
                ('board_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('current_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('thirtday_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('sixtyday_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('ninetyday_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('onetwentyday_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('fc_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('bk_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('mod_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('dil_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('thirdparty_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('reo_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('reo_days', models.IntegerField(blank=True, null=True)),
                ('liqfee_pct', models.DecimalField(blank=True, decimal_places=4, help_text='Liquidation fee percentage as decimal (e.g., 0.015 = 1.5%)', max_digits=10, null=True)),
                ('liqfee_flat', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('is_default_for_trade_assumptions', models.BooleanField(default=False, help_text='Whether this servicer should be used as the default selection in trade assumptions')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Servicer',
                'verbose_name_plural': 'Servicers',
                'db_table': 'servicers',
                'ordering': ['servicer_name'],
            },
        ),
        migrations.CreateModel(
            name='SquareFootageAssumption',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('property_category', models.CharField(choices=[('RESIDENTIAL', 'Residential'), ('COMMERCIAL', 'Commercial')], help_text='Property category: Residential or Commercial', max_length=20)),
                ('description', models.CharField(help_text='Description of these square footage assumptions', max_length=200)),
                ('utility_electric_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Electric cost per square foot per month', max_digits=8, null=True)),
                ('utility_gas_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Gas cost per square foot per month', max_digits=8, null=True)),
                ('utility_water_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Water cost per square foot per month', max_digits=8, null=True)),
                ('utility_sewer_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Sewer cost per square foot per month', max_digits=8, null=True)),
                ('utility_trash_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Trash cost per square foot per month', max_digits=8, null=True)),
                ('utility_other_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Other utility cost per square foot per month', max_digits=8, null=True)),
                ('property_management_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Property management cost per square foot per month', max_digits=8, null=True)),
                ('repairs_maintenance_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Repairs and maintenance cost per square foot per month', max_digits=8, null=True)),
                ('marketing_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Marketing cost per square foot per month', max_digits=8, null=True)),
                ('security_cost_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Security cost per square foot per month', max_digits=8, null=True)),
                ('landscaping_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Landscaping cost per square foot per month', max_digits=8, null=True)),
                ('pool_maintenance_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Pool maintenance cost per square foot per month', max_digits=8, null=True)),
                ('trashout_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Trashout cost per square foot (one-time)', max_digits=8, null=True)),
                ('renovation_per_sqft', models.DecimalField(blank=True, decimal_places=4, help_text='Renovation cost per square foot (one-time)', max_digits=8, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about these square footage assumptions', null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Whether these assumptions are currently active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Square Footage Assumption',
                'verbose_name_plural': 'Square Footage Assumptions',
                'db_table': 'square_footage_assumptions',
                'ordering': ['property_category', 'description'],
            },
        ),
        migrations.CreateModel(
            name='StateReference',
            fields=[
                ('state_code', models.CharField(max_length=2, primary_key=True, serialize=False)),
                ('state_name', models.CharField(max_length=50)),
                ('judicialvsnonjudicial', models.BooleanField(default=False, help_text='Is this a judicial foreclosure state')),
                ('fc_state_months', models.IntegerField(help_text='Average months to complete foreclosure')),
                ('eviction_duration', models.IntegerField(help_text='Average months to complete eviction')),
                ('rehab_duration', models.IntegerField(help_text='Average months to complete rehab')),
                ('reo_marketing_duration', models.IntegerField(help_text='Average months to complete reo marketing')),
                ('reo_local_market_ext_duration', models.IntegerField(help_text='Average months to complete reo local market extension')),
                ('dil_duration_avg', models.IntegerField(help_text='Average months to complete dilution')),
                ('property_tax_rate', models.DecimalField(decimal_places=4, help_text='Average property tax rate (as decimal: 0.0063 = 0.63%, range: 0-100%)', max_digits=6, validators=[django.core.validators.MinValueValidator(Decimal('0.0000')), django.core.validators.MaxValueValidator(Decimal('1.0000'))])),
                ('transfer_tax_rate', models.DecimalField(decimal_places=4, help_text='Tax rate for property transfers (as decimal: 0.0033 = 0.33%, range: 0-100%)', max_digits=6, validators=[django.core.validators.MinValueValidator(Decimal('0.0000')), django.core.validators.MaxValueValidator(Decimal('1.0000'))])),
                ('insurance_rate_avg', models.DecimalField(decimal_places=4, help_text='Average insurance rate (as decimal: 0.0040 = 0.40%, range: 0-100%)', max_digits=6, validators=[django.core.validators.MinValueValidator(Decimal('0.0000')), django.core.validators.MaxValueValidator(Decimal('1.0000'))])),
                ('broker_closing_cost_fees_avg', models.DecimalField(decimal_places=2, help_text='Average broker closing cost fees', max_digits=10)),
                ('other_closing_cost_fees_avg', models.DecimalField(decimal_places=2, help_text='Average other closing cost fees', max_digits=10)),
                ('fc_legal_fees_avg', models.DecimalField(decimal_places=2, help_text='Average legal fees for foreclosure', max_digits=10)),
                ('dil_cost_avg', models.DecimalField(decimal_places=2, help_text='Average dilution cost', max_digits=10)),
                ('cfk_cost_avg', models.DecimalField(decimal_places=2, help_text='Average CFK cost', max_digits=10)),
                ('value_adjustment_annual', models.DecimalField(decimal_places=4, help_text='Average value adjustment (as decimal: 0.0028 = 0.28%, range: -100% to +100%)', max_digits=6, validators=[django.core.validators.MinValueValidator(Decimal('-1.0000')), django.core.validators.MaxValueValidator(Decimal('1.0000'))])),
                ('utility_electric_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly electric utility cost in dollars', max_digits=10)),
                ('utility_gas_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly gas utility cost in dollars', max_digits=10)),
                ('utility_water_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly water utility cost in dollars', max_digits=10)),
                ('utility_sewer_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly sewer utility cost in dollars', max_digits=10)),
                ('utility_trash_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly trash utility cost in dollars', max_digits=10)),
                ('utility_other_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly other utility costs in dollars', max_digits=10)),
                ('property_management_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly property management cost in dollars', max_digits=10)),
                ('repairs_maintenance_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly repairs and maintenance cost in dollars', max_digits=10)),
                ('marketing_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly marketing cost in dollars', max_digits=10)),
                ('security_cost_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly security cost in dollars', max_digits=10)),
                ('landscaping_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly landscaping cost in dollars', max_digits=10)),
                ('pool_maintenance_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average monthly pool maintenance cost in dollars', max_digits=10)),
                ('trashout_cost_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average one-time trashout cost in dollars', max_digits=10)),
                ('renovation_cost_avg', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Average one-time renovation cost in dollars', max_digits=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'State Reference',
                'verbose_name_plural': 'State References',
                'db_table': 'state_reference',
                'ordering': ['state_name'],
            },
        ),
        migrations.CreateModel(
            name='UnitBasedAssumption',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('units_min', models.IntegerField(help_text='Minimum unit count for this range (inclusive)')),
                ('units_max', models.IntegerField(blank=True, help_text='Maximum unit count for this range (inclusive). Null = no maximum', null=True)),
                ('utility_electric_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Electric cost per unit per month', max_digits=10)),
                ('utility_gas_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Gas cost per unit per month', max_digits=10)),
                ('utility_water_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Water cost per unit per month', max_digits=10)),
                ('utility_sewer_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Sewer cost per unit per month', max_digits=10)),
                ('utility_trash_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Trash cost per unit per month', max_digits=10)),
                ('utility_other_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Other utility cost per unit per month', max_digits=10)),
                ('property_management_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Property management cost per unit per month', max_digits=10)),
                ('repairs_maintenance_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Repairs and maintenance cost per unit per month', max_digits=10)),
                ('marketing_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Marketing cost per unit per month', max_digits=10)),
                ('security_cost_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Security cost per unit per month', max_digits=10)),
                ('landscaping_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Landscaping cost per unit per month', max_digits=10)),
                ('pool_maintenance_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Pool maintenance cost per unit per month', max_digits=10)),
                ('trashout_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Trashout cost per unit (one-time)', max_digits=10)),
                ('renovation_per_unit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Renovation cost per unit (one-time)', max_digits=10)),
                ('description', models.CharField(help_text='Description of this unit count range', max_length=200)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about these unit-based assumptions', null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Whether these assumptions are currently active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Unit Based Assumption',
                'verbose_name_plural': 'Unit Based Assumptions',
                'db_table': 'unit_based_assumptions',
                'ordering': ['units_min'],
            },
        ),
        migrations.CreateModel(
            name='UnitMix',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('unit_type', models.CharField(help_text="Type of unit (e.g., '1BR', '2BR', 'Studio', 'Retail', 'Office')", max_length=50)),
                ('unit_count', models.IntegerField(help_text='Number of units of this type', validators=[django.core.validators.MinValueValidator(0)])),
                ('unit_avg_sqft', models.IntegerField(help_text='Average square footage per unit of this type', validators=[django.core.validators.MinValueValidator(0)])),
                ('unit_avg_rent', models.DecimalField(decimal_places=2, help_text='Average monthly rent per unit of this type', max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))])),
                ('price_sqft', models.DecimalField(blank=True, decimal_places=2, editable=False, help_text='Calculated: unit_avg_rent / unit_avg_sqft (rent per sqft)', max_digits=10, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes or comments about this unit type', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Unit Mix',
                'verbose_name_plural': 'Unit Mix Records',
                'ordering': ['unit_type'],
            },
        ),
        migrations.CreateModel(
            name='Valuation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('source', models.CharField(choices=[('internalInitialUW', 'Internal Initial UW Valuation'), ('internal', 'Internal Valuation'), ('broker', 'Broker Valuation'), ('desktop', 'Desktop Valuation'), ('BPOI', 'BPOI'), ('BPOE', 'BPOE'), ('seller', 'Seller Provided (Legacy)'), ('sellerProvided', 'Seller Provided'), ('appraisal', 'Professional Appraisal')], help_text='Source of this valuation.', max_length=20)),
                ('asis_value', models.DecimalField(blank=True, decimal_places=2, help_text='As-is value of the property.', max_digits=15, null=True)),
                ('arv_value', models.DecimalField(blank=True, decimal_places=2, help_text='After-repair value of the property.', max_digits=15, null=True)),
                ('value_date', models.DateField(blank=True, help_text='Date of the valuation.', null=True)),
                ('trashout_est_total', models.DecimalField(blank=True, decimal_places=2, help_text='Total estimated trashout costs.', max_digits=15, null=True)),
                ('rehab_est_total', models.DecimalField(blank=True, decimal_places=2, help_text='Total estimated rehabilitation costs.', max_digits=15, null=True)),
                ('recommend_rehab', models.BooleanField(default=False, help_text='Whether to recommend rehabilitation.')),
                ('recommend_rehab_reason', models.TextField(blank=True, help_text='Reason for recommending rehabilitation.', null=True)),
                ('roof_est', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost for roof repairs/replacement.', max_digits=15, null=True)),
                ('roof_grade', models.CharField(blank=True, choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Condition grade for roof (A+ to F).', max_length=5, null=True)),
                ('kitchen_est', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost for kitchen repairs/upgrades.', max_digits=15, null=True)),
                ('kitchen_grade', models.CharField(blank=True, choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Condition grade for kitchen (A+ to F).', max_length=5, null=True)),
                ('bath_est', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost for bathroom repairs/upgrades.', max_digits=15, null=True)),
                ('bath_grade', models.CharField(blank=True, choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Condition grade for bathrooms (A+ to F).', max_length=5, null=True)),
                ('flooring_est', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost for flooring repairs/replacement.', max_digits=15, null=True)),
                ('flooring_grade', models.CharField(blank=True, choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Condition grade for flooring (A+ to F).', max_length=5, null=True)),
                ('windows_est', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost for window repairs/replacement.', max_digits=15, null=True)),
                ('windows_grade', models.CharField(blank=True, choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Condition grade for windows (A+ to F).', max_length=5, null=True)),
                ('appliances_est', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost for appliance repairs/replacement.', max_digits=15, null=True)),
                ('appliances_grade', models.CharField(blank=True, choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Condition grade for appliances (A+ to F).', max_length=5, null=True)),
                ('plumbing_est', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost for plumbing repairs.', max_digits=15, null=True)),
                ('plumbing_grade', models.CharField(blank=True, choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Condition grade for plumbing (A+ to F).', max_length=5, null=True)),
                ('electrical_est', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost for electrical repairs/upgrades.', max_digits=15, null=True)),
                ('electrical_grade', models.CharField(blank=True, choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Condition grade for electrical (A+ to F).', max_length=5, null=True)),
                ('landscaping_est', models.DecimalField(blank=True, decimal_places=2, help_text='Estimated cost for landscaping improvements.', max_digits=15, null=True)),
                ('landscaping_grade', models.CharField(blank=True, choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Condition grade for landscaping (A+ to F).', max_length=5, null=True)),
                ('notes', models.TextField(blank=True, help_text='Notes about the valuation.', null=True)),
                ('links', models.URLField(blank=True, help_text='Links to supporting documentation or external resources.', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Valuation',
                'verbose_name_plural': 'Valuations',
                'db_table': 'acq_valuations',
                'ordering': ['-value_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ValuationGradeReference',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('code', models.CharField(choices=[('A+', 'A+'), ('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D'), ('F', 'F')], help_text='Canonical grade code selected from the fixed set (A+, A, B, C, D, F). Uses centralized Grade enum from model_co_lookupTables.', max_length=2, unique=True)),
                ('label', models.CharField(help_text='Plain-language grade label for UI display.', max_length=50)),
                ('description', models.TextField(blank=True, help_text='Extended guidance on when to use this grade.', null=True)),
                ('sort_order', models.PositiveIntegerField(default=0, help_text='Controls ordering of grades in dropdowns.')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='Timestamp when this grade was created.')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='Timestamp when this grade was last updated.')),
            ],
            options={
                'verbose_name': 'Valuation Grade Reference',
                'verbose_name_plural': 'Valuation Grade References',
                'db_table': 'core_valuation_grade_reference',
                'ordering': ['sort_order', 'code'],
            },
        ),
        migrations.CreateModel(
            name='AssetDetails',
            fields=[
                ('asset', models.OneToOneField(help_text='Asset this detail row belongs to', on_delete=django.db.models.deletion.CASCADE, primary_key=True, related_name='details', serialize=False, to='core.assetidhub')),
                ('is_commercial', models.BooleanField(blank=True, help_text='Simple tag: True for commercial assets, False for residential. If blank, inferred at save time.', null=True)),
                ('asset_status', models.CharField(choices=[('ACTIVE', 'Active'), ('LIQUIDATED', 'Liquidated')], db_index=True, default='ACTIVE', help_text='Canonical lifecycle status for this asset hub (drives UI dropdown and module coordination).', max_length=32)),
                ('asset_class', models.CharField(blank=True, choices=[('NPL', 'NPL'), ('REO', 'REO'), ('PERFORMING', 'Performing')], db_index=True, help_text='High-level asset classification (NPL, REO, Performing).', max_length=32, null=True)),
                ('legacy_flag', models.BooleanField(blank=True, db_index=True, help_text='Flag indicating if this asset is a legacy asset', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Asset Detail',
                'verbose_name_plural': 'Asset Details',
                'db_table': 'asset_details',
            },
        ),
        migrations.CreateModel(
            name='LLTransactionSummary',
            fields=[
                ('asset_hub', models.OneToOneField(help_text='The AssetIdHub this transaction summary belongs to.', on_delete=django.db.models.deletion.PROTECT, primary_key=True, related_name='ll_transaction_summary', serialize=False, to='core.assetidhub')),
                ('purchase_price_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual purchase price paid', max_digits=15, null=True)),
                ('gross_purchase_price_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual gross purchase price paid', max_digits=15, null=True)),
                ('acq_due_diligence_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual due diligence costs', max_digits=15, null=True)),
                ('acq_legal_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual legal costs for acquisition', max_digits=15, null=True)),
                ('acq_title_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual title costs', max_digits=15, null=True)),
                ('acq_other_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual other acquisition costs', max_digits=15, null=True)),
                ('income_principal_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual principal collected', max_digits=15, null=True)),
                ('income_interest_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual interest collected', max_digits=15, null=True)),
                ('income_rent_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual rent collected', max_digits=15, null=True)),
                ('income_cam_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual CAM income', max_digits=15, null=True)),
                ('income_mod_down_payment_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual modification down payment', max_digits=15, null=True)),
                ('expense_other_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual other operating expenses', max_digits=15, null=True)),
                ('expense_servicing_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual servicing fees paid', max_digits=15, null=True)),
                ('expense_am_fees_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual asset management fees', max_digits=15, null=True)),
                ('expense_property_tax_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual property taxes paid', max_digits=15, null=True)),
                ('expense_property_insurance_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual property insurance paid', max_digits=15, null=True)),
                ('legal_foreclosure_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual foreclosure fees', max_digits=15, null=True)),
                ('legal_bankruptcy_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual bankruptcy legal fees', max_digits=15, null=True)),
                ('legal_dil_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual DIL fees', max_digits=15, null=True)),
                ('legal_cash_for_keys_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual cash for keys fees', max_digits=15, null=True)),
                ('legal_eviction_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual eviction fees', max_digits=15, null=True)),
                ('reo_hoa_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual HOA fees paid', max_digits=15, null=True)),
                ('reo_utilities_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual utilities paid', max_digits=15, null=True)),
                ('reo_trashout_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual trashout costs', max_digits=15, null=True)),
                ('reo_renovation_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual renovation costs', max_digits=15, null=True)),
                ('reo_property_preservation_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual property preservation costs', max_digits=15, null=True)),
                ('cre_marketing_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual marketing costs', max_digits=15, null=True)),
                ('cre_ga_pool_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual G&A pool/groundskeeping costs', max_digits=15, null=True)),
                ('cre_maintenance_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual maintenance costs', max_digits=15, null=True)),
                ('fund_taxes_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual fund-level taxes', max_digits=15, null=True)),
                ('fund_legal_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual fund-level legal costs', max_digits=15, null=True)),
                ('fund_consulting_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual fund-level consulting costs', max_digits=15, null=True)),
                ('fund_audit_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual fund-level audit costs', max_digits=15, null=True)),
                ('broker_closing_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual broker closing costs', max_digits=15, null=True)),
                ('other_closing_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual other closing costs', max_digits=15, null=True)),
                ('reo_closing_cost_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual REO closing costs (broker + other closing fees)', max_digits=15, null=True)),
                ('acq_total_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Total realized acquisition costs (sum of acq_*_realized)', max_digits=15, null=True)),
                ('operating_expenses_total_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Total realized operating expenses (excludes servicing fees)', max_digits=15, null=True)),
                ('legal_total_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Total realized legal/DIL costs (sum of legal_*_realized)', max_digits=15, null=True)),
                ('reo_total_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Total realized REO expenses (sum of reo_*_realized)', max_digits=15, null=True)),
                ('cre_total_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Total realized CRE expenses (sum of cre_*_realized)', max_digits=15, null=True)),
                ('fund_total_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Total realized fund-level expenses (sum of fund_*_realized)', max_digits=15, null=True)),
                ('rehab_trashout_total_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Total realized rehab + trashout costs', max_digits=15, null=True)),
                ('total_expenses_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Total realized expenses (sum of all realized expense subtotals)', max_digits=15, null=True)),
                ('gross_liquidation_proceeds_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual gross liquidation proceeds', max_digits=15, null=True)),
                ('net_liquidation_proceeds_realized', models.DecimalField(blank=True, decimal_places=2, help_text='Actual net liquidation proceeds', max_digits=15, null=True)),
                ('realized_gross_cost', models.DecimalField(blank=True, decimal_places=2, help_text='Realized gross cost basis (aggregated actual costs)', max_digits=15, null=True)),
                ('last_updated', models.DateTimeField(auto_now=True, help_text='Last time this summary was updated from GL entries')),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='When this summary record was created')),
            ],
            options={
                'verbose_name': 'Loan-Level Transaction Summary',
                'verbose_name_plural': 'Loan-Level Transaction Summaries',
                'db_table': 'll_transaction_summary',
                'ordering': ['asset_hub'],
            },
        ),
        migrations.AddIndex(
            model_name='assetidhub',
            index=models.Index(fields=['sellertape_id'], name='core_asseti_sellert_86d816_idx'),
        ),
        migrations.AddIndex(
            model_name='assetidhub',
            index=models.Index(fields=['servicer_id'], name='core_asseti_service_4a5a4b_idx'),
        ),
        migrations.AddField(
            model_name='calendarevent',
            name='asset_hub',
            field=models.ForeignKey(blank=True, help_text='Link to specific asset (optional)', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='calendar_events', to='core.assetidhub'),
        ),
        migrations.AddField(
            model_name='calendarevent',
            name='assigned_to',
            field=models.ForeignKey(blank=True, help_text='User assigned to this task (for notifications)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assigned_calendar_events', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='calendarevent',
            name='created_by',
            field=models.ForeignKey(blank=True, help_text='User who created this event', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='calendar_events', to=settings.AUTH_USER_MODEL),
        ),
    ]
